(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7488:function(e,t,r){Promise.resolve().then(r.bind(r,612))},612:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return page}});let n=Object.freeze({INSTAGRAM:/(https?:\/\/(.+?\.)?instagram\.com(.*))/,REDDIT:/(https?:\/\/(.+?\.)?reddit\.com(.*))/}),isInstagramLink=e=>n.INSTAGRAM.test(e),isRedditLink=e=>n.REDDIT.test(e),insertInstagramEmbed=async e=>{let t=e.split("?")[0].replace(/\/$/,"");return miro.board.createEmbed({url:"".concat(t,"/embed")})},insertRedditEmbed=async e=>{let t=e.split("?")[0].replace(/\/$/,"");return miro.board.createEmbed({url:"".concat(t.replace(/(.*)?reddit\.com/,"https://embed.reddit.com"))})},insertEmbed=async e=>{if(isInstagramLink(e))return insertInstagramEmbed(e);if(isRedditLink(e))return insertRedditEmbed(e);throw Error("Failed to insert embedded content for ".concat(e))},handleLinkItemsCreate=async e=>{let{items:t=[]}=e;t.length<=0||t.forEach(async e=>{if("text"===e.type)try{let t=await insertEmbed(e.content);await miro.board.viewport.zoomTo(t),await miro.board.remove(e)}catch(e){console.error(e)}})};var a=r(2265);let handler=e=>{handleLinkItemsCreate(e)},useHandleItemsCreate=()=>{(0,a.useEffect)(()=>(window.miro.board.ui.on("items:create",handler),()=>miro.board.ui.off("items:create",handler)),[])};var page=()=>(useHandleItemsCreate(),null)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=7488)}),_N_E=e.O()}]);