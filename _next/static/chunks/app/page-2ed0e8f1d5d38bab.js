(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7488:function(e,t,r){Promise.resolve().then(r.bind(r,3822))},3822:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return page}});var n=r(2265);let handler=async()=>{await miro.board.ui.openPanel({url:"/onboarding"})};var hooks_useHandleAppIconClick=()=>{(0,n.useEffect)(()=>(miro.board.ui.on("icon:click",handler),()=>miro.board.ui.off("icon:click",handler)),[])};let a=Object.freeze({INSTAGRAM:/(https?:\/\/(.+?\.)?instagram\.com(.*))/,REDDIT:/(https?:\/\/(.+?\.)?reddit\.com(.*))/}),isInstagramLink=e=>a.INSTAGRAM.test(e),isRedditLink=e=>a.REDDIT.test(e),insertInstagramEmbed=async e=>{let t=e.split("?")[0].replace(/\/$/,"");return miro.board.createEmbed({url:"".concat(t,"/embed")})},insertRedditEmbed=async e=>{let t=e.split("?")[0].replace(/\/$/,"");return miro.board.createEmbed({url:"".concat(t.replace(/(.*)?reddit\.com/,"https://embed.reddit.com"))})},insertEmbed=async e=>{if(isInstagramLink(e))return insertInstagramEmbed(e);if(isRedditLink(e))return insertRedditEmbed(e);throw Error("Failed to insert embedded content for ".concat(e))},handleLinkItemsCreate=async e=>{let{items:t=[]}=e;t.length<=0||t.forEach(async e=>{if("text"===e.type)try{let t=await insertEmbed(e.content);await miro.board.viewport.zoomTo(t),await miro.board.remove(e)}catch(e){console.error(e)}})},useHandleItemsCreate_handler=e=>{handleLinkItemsCreate(e)};var hooks_useHandleItemsCreate=()=>{(0,n.useEffect)(()=>(window.miro.board.ui.on("items:create",useHandleItemsCreate_handler),()=>miro.board.ui.off("items:create",useHandleItemsCreate_handler)),[])},page=()=>(hooks_useHandleAppIconClick(),hooks_useHandleItemsCreate(),null)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=7488)}),_N_E=e.O()}]);